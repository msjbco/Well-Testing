<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Book a Class | Peak to Plains Well Testing</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;500;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <!-- INSERT HEADER -->
  <div w3-include-html="header.html"></div>
  
  <section class="content" style="padding:6rem 0">
    <div class="container">
      <div style="max-width:900px;margin:0 auto">
        <h1 style="color:var(--navy);text-align:center;margin-bottom:1rem;font-size:2.5rem">Colorado Residential Wells: The Class Every Agent Needs</h1>
        <p style="text-align:center;color:var(--green);font-size:1.2rem;font-weight:600;margin-bottom:3rem">(Continuing Education Eligible – 3–4 Credit Hours)</p>
        
        <div style="background:#f4f0ea;padding:2rem;border-radius:12px;margin-bottom:3rem;border-left:4px solid var(--brown)">
          <h2 style="color:var(--navy);margin-bottom:1rem;font-size:1.8rem">Why This Class Will Make You the Go-To Agent for Rural and Mountain Properties</h2>
          <p style="font-size:1.1rem;line-height:1.8;color:var(--gray)">
            Most out-of-state buyers (and plenty of Colorado agents) assume water just "comes with the house." In half of Colorado's counties, it doesn't — it comes from a private residential well. One misunderstood water issue can kill a deal, trigger expensive surprises after closing, or expose you to liability.
          </p>
          <p style="font-size:1.1rem;line-height:1.8;color:var(--gray);margin-top:1rem">
            This fast-paced, practical class focuses 100% on what real estate agents actually see every day with residential wells serving 1–5 homes — no deep dive into commercial ag rights or well drilling contracts.
          </p>
        </div>

        <div style="margin-bottom:3rem">
          <h2 style="color:var(--navy);margin-bottom:1.5rem;font-size:1.8rem">Key Benefits for You and Your Clients</h2>
          <ul style="font-size:1.1rem;line-height:2;margin-left:2rem;color:var(--gray)">
            <li>Answer the #1 buyer question with confidence: "How do I know the well is good?"</li>
            <li>Spot 6–8 common inspection objections before they blow up the contract</li>
            <li>Explain results in plain English (flow rate, bacteria, nitrates, arsenic, etc.)</li>
            <li>Know exactly which water clauses and deadlines belong in the contract</li>
            <li>Shorten inspection periods and reduce repair negotiations</li>
            <li>Earn 3–4 CE credits while gaining skills you'll use on your very next rural listing</li>
          </ul>
        </div>

        <div style="margin-bottom:3rem">
          <h2 style="color:var(--navy);margin-bottom:1.5rem;font-size:1.8rem">Core Topics — All Focused on Residential Properties</h2>
          
          <div style="margin-bottom:2rem">
            <h3 style="color:var(--navy);font-size:1.4rem;margin-bottom:0.8rem">Colorado Residential Well Basics Every Agent Must Know</h3>
            <ul style="font-size:1.1rem;line-height:1.8;margin-left:1.5rem;color:var(--gray)">
              <li>Domestic vs. household-use-only vs. exempt wells (the three you'll actually see)</li>
              <li>How to quickly find the permit in the state database using the receipt number on MLS</li>
              <li>Typical gallon-per-minute yield needed for a 3–4 bedroom home (and why 3 gpm can be a problem)</li>
            </ul>
          </div>

          <div style="margin-bottom:2rem">
            <h3 style="color:var(--navy);font-size:1.4rem;margin-bottom:0.8rem">Mountains vs. Front Range vs. Eastern Plains — Why the Same House Can Have Very Different Water Risks</h3>
            <ul style="font-size:1.1rem;line-height:1.8;margin-left:1.5rem;color:var(--gray)">
              <li>Mountain wells: shallow bedrock, seasonal yield swings, freeze issues</li>
              <li>Front Range: deeper wells, uranium/radon hotspots, newer subdivision rules</li>
              <li>Plains: declining water tables, nitrate issues from old ag fields</li>
            </ul>
          </div>

          <div style="margin-bottom:2rem">
            <h3 style="color:var(--navy);font-size:1.4rem;margin-bottom:0.8rem">Water Quantity — What "Enough Water" Really Means</h3>
            <ul style="font-size:1.1rem;line-height:1.8;margin-left:1.5rem;color:var(--gray)">
              <li>Understanding the state's 3-day flow evaluation vs. the inspector's 90-minute evaluation</li>
              <li>Recovery rate vs. peak demand — why both matter</li>
              <li>Red-flag phrases on well inspections ("limited yield," "shared well," "cistern only")</li>
            </ul>
          </div>

          <div style="margin-bottom:2rem">
            <h3 style="color:var(--navy);font-size:1.4rem;margin-bottom:0.8rem">Water Quality — The Contaminants Buyers Care About Most</h3>
            <ul style="font-size:1.1rem;line-height:1.8;margin-left:1.5rem;color:var(--gray)">
              <li>Arsenic, nitrates, gross alpha, uranium, PFAS, lead — where they show up by county</li>
              <li>Bacteria shock chlorination: what works and what's temporary</li>
              <li>Common treatment systems (UV lights, water softeners, reverse osmosis) and realistic costs</li>
            </ul>
          </div>

          <div style="margin-bottom:2rem">
            <h3 style="color:var(--navy);font-size:1.4rem;margin-bottom:0.8rem">Shared Wells and Small Community Systems</h3>
            <ul style="font-size:1.1rem;line-height:1.8;margin-left:1.5rem;color:var(--gray)">
              <li>What the shared-well agreement must contain to be recordable (and financeable)</li>
              <li>HOA water systems vs. special districts — disclosure differences</li>
            </ul>
          </div>

          <div style="margin-bottom:2rem">
            <h3 style="color:var(--navy);font-size:1.4rem;margin-bottom:0.8rem">Septic + Well Separation Rules</h3>
            <ul style="font-size:1.1rem;line-height:1.8;margin-left:1.5rem;color:var(--gray)">
              <li>Minimum distances and why lenders freak out when they're too close</li>
              <li>New 2023–2025 regulation changes you need to know</li>
            </ul>
          </div>

          <div style="margin-bottom:2rem">
            <h3 style="color:var(--navy);font-size:1.4rem;margin-bottom:0.8rem">Inspection Objection & Resolution Language That Actually Works</h3>
            <ul style="font-size:1.1rem;line-height:1.8;margin-left:1.5rem;color:var(--gray)">
              <li>Proven contract addendum clauses for quantity and quality</li>
              <li>When to recommend a specialist (hydrogeologist vs. regular home inspector)</li>
              <li>Typical repair costs so you can negotiate from strength</li>
            </ul>
          </div>

          <div style="margin-bottom:2rem">
            <h3 style="color:var(--navy);font-size:1.4rem;margin-bottom:0.8rem">Disclosure Realities</h3>
            <ul style="font-size:1.1rem;line-height:1.8;margin-left:1.5rem;color:var(--gray)">
              <li>What sellers are required to disclose about the well and water quality</li>
              <li>Source of Water addendum and Source of Water Quality addendum — line-by-line walkthrough</li>
              <li>How to turn a clean water report into a marketing advantage</li>
            </ul>
          </div>

          <div style="margin-bottom:2rem">
            <h3 style="color:var(--navy);font-size:1.4rem;margin-bottom:0.8rem">Quick-Hit Case Studies (10 minutes each)</h3>
            <ul style="font-size:1.1rem;line-height:1.8;margin-left:1.5rem;color:var(--gray)">
              <li>The $28,000 nitrate mitigation surprise</li>
              <li>The shared well that served 5 houses instead of 2</li>
              <li>The mountain cabin that ran dry every July</li>
            </ul>
          </div>
        </div>

        <div style="background:var(--navy);color:white;padding:3rem;border-radius:16px;margin-bottom:3rem">
          <p style="font-size:1.2rem;line-height:1.8;margin-bottom:1.5rem">
            This class is built for speed and usability — you'll walk out with a laminated cheat sheet of red flags, a checklist for every rural offer, and the exact questions to ask the well inspector before your buyer waives the objection period.
          </p>
          <p style="font-size:1.2rem;line-height:1.8;margin-bottom:1.5rem">
            Perfect for mountain brokers, Front Range agents who list acreage properties, or anyone tired of getting blindsided during due diligence.
          </p>
          <p style="font-size:1.2rem;line-height:1.8;font-weight:600">
            Sign up today — next sessions in Denver, Colorado Springs, Grand Junction, and virtual.
          </p>
        </div>

        <div style="text-align:center;padding:2rem;background:#f4f0ea;border-radius:12px">
          <p style="font-size:1.3rem;line-height:1.8;color:var(--navy);font-weight:600">
            Give your clients (and yourself) the confidence that comes from truly understanding Colorado's residential wells.
          </p>
        </div>

        <div style="margin-top:4rem;max-width:700px;margin-left:auto;margin-right:auto">
          <h2 style="color:var(--navy);text-align:center;margin-bottom:2rem;font-size:2rem">Book a Class for Your Team</h2>
          <form id="classBookingForm" action="https://formsubmit.co/msjbco@gmail.com" method="POST" style="background:#f9f9f9;padding:2.5rem;border-radius:12px;box-shadow:0 4px 15px rgba(0,0,0,0.1)">
            <input type="hidden" name="_subject" value="New Class Booking Request">
            <input type="hidden" name="_captcha" value="false">
            <input type="hidden" name="_next" value="">
            <input type="text" name="_honey" style="display:none">
            <div style="display:grid;gap:1.5rem">
              <div>
                <label for="companyName" style="display:block;color:var(--navy);font-weight:600;margin-bottom:0.5rem;font-size:1.1rem">Company Name *</label>
                <input type="text" id="companyName" name="companyName" required style="width:100%;padding:1rem 1.5rem;border:2px solid #ddd;border-radius:8px;font-size:1.1rem;font-family:'Inter',sans-serif;box-sizing:border-box">
              </div>

              <div>
                <label for="contactName" style="display:block;color:var(--navy);font-weight:600;margin-bottom:0.5rem;font-size:1.1rem">Your Name *</label>
                <input type="text" id="contactName" name="contactName" required style="width:100%;padding:1rem 1.5rem;border:2px solid #ddd;border-radius:8px;font-size:1.1rem;font-family:'Inter',sans-serif;box-sizing:border-box">
              </div>

              <div>
                <label for="contactEmail" style="display:block;color:var(--navy);font-weight:600;margin-bottom:0.5rem;font-size:1.1rem">Email *</label>
                <input type="email" id="contactEmail" name="contactEmail" required style="width:100%;padding:1rem 1.5rem;border:2px solid #ddd;border-radius:8px;font-size:1.1rem;font-family:'Inter',sans-serif;box-sizing:border-box">
              </div>

              <div>
                <label for="contactPhone" style="display:block;color:var(--navy);font-weight:600;margin-bottom:0.5rem;font-size:1.1rem">Phone *</label>
                <input type="tel" id="contactPhone" name="contactPhone" required style="width:100%;padding:1rem 1.5rem;border:2px solid #ddd;border-radius:8px;font-size:1.1rem;font-family:'Inter',sans-serif;box-sizing:border-box">
              </div>

              <div>
                <label for="companyAddress" style="display:block;color:var(--navy);font-weight:600;margin-bottom:0.5rem;font-size:1.1rem">Company Address *</label>
                <input type="text" id="companyAddress" name="companyAddress" required style="width:100%;padding:1rem 1.5rem;border:2px solid #ddd;border-radius:8px;font-size:1.1rem;font-family:'Inter',sans-serif;box-sizing:border-box">
              </div>

              <div style="display:grid;grid-template-columns:1fr 1fr;gap:1rem">
                <div>
                  <label for="companyCity" style="display:block;color:var(--navy);font-weight:600;margin-bottom:0.5rem;font-size:1.1rem">City *</label>
                  <input type="text" id="companyCity" name="companyCity" required style="width:100%;padding:1rem 1.5rem;border:2px solid #ddd;border-radius:8px;font-size:1.1rem;font-family:'Inter',sans-serif;box-sizing:border-box">
                </div>
                <div>
                  <label for="companyState" style="display:block;color:var(--navy);font-weight:600;margin-bottom:0.5rem;font-size:1.1rem">State *</label>
                  <input type="text" id="companyState" name="companyState" value="CO" required style="width:100%;padding:1rem 1.5rem;border:2px solid #ddd;border-radius:8px;font-size:1.1rem;font-family:'Inter',sans-serif;box-sizing:border-box">
                </div>
              </div>

              <div>
                <label for="companyZip" style="display:block;color:var(--navy);font-weight:600;margin-bottom:0.5rem;font-size:1.1rem">ZIP Code *</label>
                <input type="text" id="companyZip" name="companyZip" required style="width:100%;padding:1rem 1.5rem;border:2px solid #ddd;border-radius:8px;font-size:1.1rem;font-family:'Inter',sans-serif;box-sizing:border-box">
              </div>

              <div>
                <label for="numberOfAgents" style="display:block;color:var(--navy);font-weight:600;margin-bottom:0.5rem;font-size:1.1rem">Number of Agents *</label>
                <input type="number" id="numberOfAgents" name="numberOfAgents" min="1" required style="width:100%;padding:1rem 1.5rem;border:2px solid #ddd;border-radius:8px;font-size:1.1rem;font-family:'Inter',sans-serif;box-sizing:border-box">
              </div>

              <div>
                <label for="preferredDate" style="display:block;color:var(--navy);font-weight:600;margin-bottom:0.5rem;font-size:1.1rem">Preferred Date *</label>
                <input type="date" id="preferredDate" name="preferredDate" required style="width:100%;padding:1rem 1.5rem;border:2px solid #ddd;border-radius:8px;font-size:1.1rem;font-family:'Inter',sans-serif;box-sizing:border-box">
              </div>

              <div>
                <label for="additionalNotes" style="display:block;color:var(--navy);font-weight:600;margin-bottom:0.5rem;font-size:1.1rem">Additional Notes or Special Requests</label>
                <textarea id="additionalNotes" name="additionalNotes" rows="4" style="width:100%;padding:1rem 1.5rem;border:2px solid #ddd;border-radius:8px;font-size:1.1rem;font-family:'Inter',sans-serif;box-sizing:border-box;resize:vertical"></textarea>
              </div>

              <button type="submit" style="background:var(--brown);color:white;padding:1.2rem 2.5rem;border:none;border-radius:8px;font-weight:700;font-size:1.2rem;cursor:pointer;margin-top:1rem;width:100%">Submit Class Booking Request</button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </section>

  <script src="https://www.w3schools.com/lib/w3.js"></script>
  <script src="api.js"></script>
  <script>w3.includeHTML();</script>
  <script>
    // Wait for API to be available
    document.addEventListener('DOMContentLoaded', function() {
      // Wait a bit for api.js to load
      setTimeout(function() {
        if (!window.classRequestsAPI) {
          console.error('classRequestsAPI not available! Make sure api.js is loaded.');
        } else {
          console.log('classRequestsAPI is available');
        }
      }, 500);
    });

    document.getElementById('classBookingForm').addEventListener('submit', async function(e) {
      e.preventDefault();
      
      const form = e.target;
      const submitButton = form.querySelector('button[type="submit"]');
      const originalButtonText = submitButton.textContent;
      
      // Check if API is available
      if (!window.classRequestsAPI) {
        console.error('classRequestsAPI not available!');
        alert('Error: API not loaded. Please refresh the page and try again.');
        submitButton.disabled = false;
        submitButton.textContent = originalButtonText;
        return;
      }
      
      // Show loading state
      submitButton.disabled = true;
      submitButton.textContent = 'Sending...';
      
      try {
        // Collect form data
        const preferredDateInput = document.getElementById('preferredDate').value;
        console.log('Raw preferredDate from input:', preferredDateInput);
        
        const classRequestData = {
          companyName: document.getElementById('companyName').value,
          contactName: document.getElementById('contactName').value,
          contactEmail: document.getElementById('contactEmail').value,
          contactPhone: document.getElementById('contactPhone').value,
          companyAddress: document.getElementById('companyAddress').value,
          companyCity: document.getElementById('companyCity').value,
          companyState: document.getElementById('companyState').value,
          companyZip: document.getElementById('companyZip').value,
          numberOfAgents: parseInt(document.getElementById('numberOfAgents').value),
          preferredDate: preferredDateInput, // Keep as YYYY-MM-DD format
          additionalNotes: document.getElementById('additionalNotes').value || null,
          confirmed: false,
          createdAt: new Date().toISOString()
        };
        
        console.log('Saving class request:', classRequestData);
        
        // Save class request to database
        const savedRequest = await window.classRequestsAPI.create(classRequestData);
        console.log('Class request saved successfully:', savedRequest);
        console.log('Saved request preferredDate:', savedRequest.preferredDate);
        
        // Verify it was saved by checking localStorage directly
        if (typeof localStorage !== 'undefined') {
          const saved = JSON.parse(localStorage.getItem('classRequests') || '[]');
          console.log('All class requests in localStorage after save:', saved);
          console.log('Number of class requests:', saved.length);
        }
        
        // Update subject with company name for email
        const companyName = classRequestData.companyName;
        form.querySelector('input[name="_subject"]').value = 'New Class Booking Request - ' + companyName;
        
        // Update next URL to redirect to thank you page
        const currentUrl = window.location.href.split('?')[0];
        form.querySelector('input[name="_next"]').value = currentUrl + '?success=true';
        
        // Wait a moment to ensure localStorage is written
        await new Promise(resolve => setTimeout(resolve, 200));
        
        // Verify one more time
        const verify = JSON.parse(localStorage.getItem('classRequests') || '[]');
        console.log('Final verification - class requests in localStorage:', verify);
        
        // Submit form to FormSubmit for email notification
        form.submit();
        
      } catch (error) {
        console.error('Error saving class request:', error);
        console.error('Error stack:', error.stack);
        alert('Warning: Class request may not have been saved. Error: ' + error.message);
        // Still try to submit the email form even if database save fails
        const companyName = document.getElementById('companyName').value;
        form.querySelector('input[name="_subject"]').value = 'New Class Booking Request - ' + companyName;
        const currentUrl = window.location.href.split('?')[0];
        form.querySelector('input[name="_next"]').value = currentUrl + '?success=true';
        form.submit();
      }
    });
    
    // Check if form was submitted successfully
    const urlParams = new URLSearchParams(window.location.search);
    if (urlParams.get('success') === 'true') {
      alert('Thank you for your class booking request! We will contact you shortly to confirm the details.');
      // Clean up URL
      window.history.replaceState({}, document.title, window.location.pathname);
    }
  </script>
</body>
</html>

